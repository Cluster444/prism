@ ProgramNode (location: (1,0)-(31,14))
├── locals: [:foo, :bar]
└── statements:
    @ StatementsNode (location: (1,0)-(31,14))
    └── body: (length: 16)
        ├── @ CallNode (location: (1,0)-(1,5))
        │   ├── receiver: ∅
        │   ├── call_operator_loc: ∅
        │   ├── name: :foo
        │   ├── message_loc: (1,0)-(1,3) = "foo"
        │   ├── opening_loc: ∅
        │   ├── arguments:
        │   │   @ ArgumentsNode (location: (1,4)-(1,5))
        │   │   ├── arguments: (length: 1)
        │   │   │   └── @ IntegerNode (location: (1,4)-(1,5))
        │   │   │       └── flags: decimal
        │   │   └── flags: ∅
        │   ├── closing_loc: ∅
        │   ├── block: ∅
        │   └── flags: ∅
        ├── @ CallNode (location: (3,0)-(3,9))
        │   ├── receiver: ∅
        │   ├── call_operator_loc: ∅
        │   ├── name: :foo
        │   ├── message_loc: (3,0)-(3,3) = "foo"
        │   ├── opening_loc: ∅
        │   ├── arguments:
        │   │   @ ArgumentsNode (location: (3,4)-(3,9))
        │   │   ├── arguments: (length: 1)
        │   │   │   └── @ CallNode (location: (3,4)-(3,9))
        │   │   │       ├── receiver: ∅
        │   │   │       ├── call_operator_loc: ∅
        │   │   │       ├── name: :bar
        │   │   │       ├── message_loc: (3,4)-(3,7) = "bar"
        │   │   │       ├── opening_loc: ∅
        │   │   │       ├── arguments:
        │   │   │       │   @ ArgumentsNode (location: (3,8)-(3,9))
        │   │   │       │   ├── arguments: (length: 1)
        │   │   │       │   │   └── @ IntegerNode (location: (3,8)-(3,9))
        │   │   │       │   │       └── flags: decimal
        │   │   │       │   └── flags: ∅
        │   │   │       ├── closing_loc: ∅
        │   │   │       ├── block: ∅
        │   │   │       └── flags: ∅
        │   │   └── flags: ∅
        │   ├── closing_loc: ∅
        │   ├── block: ∅
        │   └── flags: ∅
        ├── @ IfNode (location: (5,0)-(5,14))
        │   ├── if_keyword_loc: (5,6)-(5,8) = "if"
        │   ├── predicate:
        │   │   @ CallNode (location: (5,9)-(5,14))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :bar
        │   │   ├── message_loc: (5,9)-(5,12) = "bar"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (5,13)-(5,14))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (5,13)-(5,14))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── then_keyword_loc: ∅
        │   ├── statements:
        │   │   @ StatementsNode (location: (5,0)-(5,5))
        │   │   └── body: (length: 1)
        │   │       └── @ CallNode (location: (5,0)-(5,5))
        │   │           ├── receiver: ∅
        │   │           ├── call_operator_loc: ∅
        │   │           ├── name: :foo
        │   │           ├── message_loc: (5,0)-(5,3) = "foo"
        │   │           ├── opening_loc: ∅
        │   │           ├── arguments:
        │   │           │   @ ArgumentsNode (location: (5,4)-(5,5))
        │   │           │   ├── arguments: (length: 1)
        │   │           │   │   └── @ IntegerNode (location: (5,4)-(5,5))
        │   │           │   │       └── flags: decimal
        │   │           │   └── flags: ∅
        │   │           ├── closing_loc: ∅
        │   │           ├── block: ∅
        │   │           └── flags: ∅
        │   ├── consequent: ∅
        │   └── end_keyword_loc: ∅
        ├── @ UnlessNode (location: (7,0)-(7,18))
        │   ├── keyword_loc: (7,6)-(7,12) = "unless"
        │   ├── predicate:
        │   │   @ CallNode (location: (7,13)-(7,18))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :bar
        │   │   ├── message_loc: (7,13)-(7,16) = "bar"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (7,17)-(7,18))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (7,17)-(7,18))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── then_keyword_loc: ∅
        │   ├── statements:
        │   │   @ StatementsNode (location: (7,0)-(7,5))
        │   │   └── body: (length: 1)
        │   │       └── @ CallNode (location: (7,0)-(7,5))
        │   │           ├── receiver: ∅
        │   │           ├── call_operator_loc: ∅
        │   │           ├── name: :foo
        │   │           ├── message_loc: (7,0)-(7,3) = "foo"
        │   │           ├── opening_loc: ∅
        │   │           ├── arguments:
        │   │           │   @ ArgumentsNode (location: (7,4)-(7,5))
        │   │           │   ├── arguments: (length: 1)
        │   │           │   │   └── @ IntegerNode (location: (7,4)-(7,5))
        │   │           │   │       └── flags: decimal
        │   │           │   └── flags: ∅
        │   │           ├── closing_loc: ∅
        │   │           ├── block: ∅
        │   │           └── flags: ∅
        │   ├── consequent: ∅
        │   └── end_keyword_loc: ∅
        ├── @ WhileNode (location: (9,0)-(9,17))
        │   ├── keyword_loc: (9,6)-(9,11) = "while"
        │   ├── closing_loc: ∅
        │   ├── predicate:
        │   │   @ CallNode (location: (9,12)-(9,17))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :bar
        │   │   ├── message_loc: (9,12)-(9,15) = "bar"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (9,16)-(9,17))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (9,16)-(9,17))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── statements:
        │   │   @ StatementsNode (location: (9,0)-(9,5))
        │   │   └── body: (length: 1)
        │   │       └── @ CallNode (location: (9,0)-(9,5))
        │   │           ├── receiver: ∅
        │   │           ├── call_operator_loc: ∅
        │   │           ├── name: :foo
        │   │           ├── message_loc: (9,0)-(9,3) = "foo"
        │   │           ├── opening_loc: ∅
        │   │           ├── arguments:
        │   │           │   @ ArgumentsNode (location: (9,4)-(9,5))
        │   │           │   ├── arguments: (length: 1)
        │   │           │   │   └── @ IntegerNode (location: (9,4)-(9,5))
        │   │           │   │       └── flags: decimal
        │   │           │   └── flags: ∅
        │   │           ├── closing_loc: ∅
        │   │           ├── block: ∅
        │   │           └── flags: ∅
        │   └── flags: ∅
        ├── @ UntilNode (location: (11,0)-(11,17))
        │   ├── keyword_loc: (11,6)-(11,11) = "until"
        │   ├── closing_loc: ∅
        │   ├── predicate:
        │   │   @ CallNode (location: (11,12)-(11,17))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :bar
        │   │   ├── message_loc: (11,12)-(11,15) = "bar"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (11,16)-(11,17))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (11,16)-(11,17))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── statements:
        │   │   @ StatementsNode (location: (11,0)-(11,5))
        │   │   └── body: (length: 1)
        │   │       └── @ CallNode (location: (11,0)-(11,5))
        │   │           ├── receiver: ∅
        │   │           ├── call_operator_loc: ∅
        │   │           ├── name: :foo
        │   │           ├── message_loc: (11,0)-(11,3) = "foo"
        │   │           ├── opening_loc: ∅
        │   │           ├── arguments:
        │   │           │   @ ArgumentsNode (location: (11,4)-(11,5))
        │   │           │   ├── arguments: (length: 1)
        │   │           │   │   └── @ IntegerNode (location: (11,4)-(11,5))
        │   │           │   │       └── flags: decimal
        │   │           │   └── flags: ∅
        │   │           ├── closing_loc: ∅
        │   │           ├── block: ∅
        │   │           └── flags: ∅
        │   └── flags: ∅
        ├── @ RescueModifierNode (location: (13,0)-(13,18))
        │   ├── expression:
        │   │   @ CallNode (location: (13,0)-(13,5))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :foo
        │   │   ├── message_loc: (13,0)-(13,3) = "foo"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (13,4)-(13,5))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (13,4)-(13,5))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── keyword_loc: (13,6)-(13,12) = "rescue"
        │   └── rescue_expression:
        │       @ CallNode (location: (13,13)-(13,18))
        │       ├── receiver: ∅
        │       ├── call_operator_loc: ∅
        │       ├── name: :bar
        │       ├── message_loc: (13,13)-(13,16) = "bar"
        │       ├── opening_loc: ∅
        │       ├── arguments:
        │       │   @ ArgumentsNode (location: (13,17)-(13,18))
        │       │   ├── arguments: (length: 1)
        │       │   │   └── @ IntegerNode (location: (13,17)-(13,18))
        │       │   │       └── flags: decimal
        │       │   └── flags: ∅
        │       ├── closing_loc: ∅
        │       ├── block: ∅
        │       └── flags: ∅
        ├── @ CallNode (location: (15,0)-(15,10))
        │   ├── receiver:
        │   │   @ CallNode (location: (15,0)-(15,3))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :foo
        │   │   ├── message_loc: (15,0)-(15,3) = "foo"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: variable_call
        │   ├── call_operator_loc: ∅
        │   ├── name: :[]
        │   ├── message_loc: (15,3)-(15,10) = "[bar 1]"
        │   ├── opening_loc: (15,3)-(15,4) = "["
        │   ├── arguments:
        │   │   @ ArgumentsNode (location: (15,4)-(15,9))
        │   │   ├── arguments: (length: 1)
        │   │   │   └── @ CallNode (location: (15,4)-(15,9))
        │   │   │       ├── receiver: ∅
        │   │   │       ├── call_operator_loc: ∅
        │   │   │       ├── name: :bar
        │   │   │       ├── message_loc: (15,4)-(15,7) = "bar"
        │   │   │       ├── opening_loc: ∅
        │   │   │       ├── arguments:
        │   │   │       │   @ ArgumentsNode (location: (15,8)-(15,9))
        │   │   │       │   ├── arguments: (length: 1)
        │   │   │       │   │   └── @ IntegerNode (location: (15,8)-(15,9))
        │   │   │       │   │       └── flags: decimal
        │   │   │       │   └── flags: ∅
        │   │   │       ├── closing_loc: ∅
        │   │   │       ├── block: ∅
        │   │   │       └── flags: ∅
        │   │   └── flags: ∅
        │   ├── closing_loc: (15,9)-(15,10) = "]"
        │   ├── block: ∅
        │   └── flags: ∅
        ├── @ AndNode (location: (17,0)-(17,15))
        │   ├── left:
        │   │   @ CallNode (location: (17,0)-(17,5))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :foo
        │   │   ├── message_loc: (17,0)-(17,3) = "foo"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (17,4)-(17,5))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (17,4)-(17,5))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── right:
        │   │   @ CallNode (location: (17,10)-(17,15))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :bar
        │   │   ├── message_loc: (17,10)-(17,13) = "bar"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (17,14)-(17,15))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (17,14)-(17,15))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   └── operator_loc: (17,6)-(17,9) = "and"
        ├── @ CallNode (location: (19,0)-(19,9))
        │   ├── receiver:
        │   │   @ CallNode (location: (19,4)-(19,9))
        │   │   ├── receiver: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :foo
        │   │   ├── message_loc: (19,4)-(19,7) = "foo"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (19,8)-(19,9))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (19,8)-(19,9))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── call_operator_loc: ∅
        │   ├── name: :!
        │   ├── message_loc: (19,0)-(19,3) = "not"
        │   ├── opening_loc: ∅
        │   ├── arguments: ∅
        │   ├── closing_loc: ∅
        │   ├── block: ∅
        │   └── flags: ∅
        ├── @ LocalVariableWriteNode (location: (21,0)-(21,17))
        │   ├── name: :foo
        │   ├── depth: 0
        │   ├── name_loc: (21,0)-(21,3) = "foo"
        │   ├── value:
        │   │   @ LocalVariableWriteNode (location: (21,6)-(21,17))
        │   │   ├── name: :bar
        │   │   ├── depth: 0
        │   │   ├── name_loc: (21,6)-(21,9) = "bar"
        │   │   ├── value:
        │   │   │   @ CallNode (location: (21,12)-(21,17))
        │   │   │   ├── receiver: ∅
        │   │   │   ├── call_operator_loc: ∅
        │   │   │   ├── name: :baz
        │   │   │   ├── message_loc: (21,12)-(21,15) = "baz"
        │   │   │   ├── opening_loc: ∅
        │   │   │   ├── arguments:
        │   │   │   │   @ ArgumentsNode (location: (21,16)-(21,17))
        │   │   │   │   ├── arguments: (length: 1)
        │   │   │   │   │   └── @ IntegerNode (location: (21,16)-(21,17))
        │   │   │   │   │       └── flags: decimal
        │   │   │   │   └── flags: ∅
        │   │   │   ├── closing_loc: ∅
        │   │   │   ├── block: ∅
        │   │   │   └── flags: ∅
        │   │   └── operator_loc: (21,10)-(21,11) = "="
        │   └── operator_loc: (21,4)-(21,5) = "="
        ├── @ DefNode (location: (23,0)-(23,15))
        │   ├── name: :foo
        │   ├── name_loc: (23,4)-(23,7) = "foo"
        │   ├── receiver: ∅
        │   ├── parameters: ∅
        │   ├── body:
        │   │   @ StatementsNode (location: (23,10)-(23,15))
        │   │   └── body: (length: 1)
        │   │       └── @ CallNode (location: (23,10)-(23,15))
        │   │           ├── receiver: ∅
        │   │           ├── call_operator_loc: ∅
        │   │           ├── name: :bar
        │   │           ├── message_loc: (23,10)-(23,13) = "bar"
        │   │           ├── opening_loc: ∅
        │   │           ├── arguments:
        │   │           │   @ ArgumentsNode (location: (23,14)-(23,15))
        │   │           │   ├── arguments: (length: 1)
        │   │           │   │   └── @ IntegerNode (location: (23,14)-(23,15))
        │   │           │   │       └── flags: decimal
        │   │           │   └── flags: ∅
        │   │           ├── closing_loc: ∅
        │   │           ├── block: ∅
        │   │           └── flags: ∅
        │   ├── locals: []
        │   ├── def_keyword_loc: (23,0)-(23,3) = "def"
        │   ├── operator_loc: ∅
        │   ├── lparen_loc: ∅
        │   ├── rparen_loc: ∅
        │   ├── equal_loc: (23,8)-(23,9) = "="
        │   └── end_keyword_loc: ∅
        ├── @ CallNode (location: (25,0)-(25,7))
        │   ├── receiver:
        │   │   @ IntegerNode (location: (25,0)-(25,1))
        │   │   └── flags: decimal
        │   ├── call_operator_loc: (25,1)-(25,2) = "."
        │   ├── name: :foo
        │   ├── message_loc: (25,2)-(25,5) = "foo"
        │   ├── opening_loc: ∅
        │   ├── arguments:
        │   │   @ ArgumentsNode (location: (25,6)-(25,7))
        │   │   ├── arguments: (length: 1)
        │   │   │   └── @ IntegerNode (location: (25,6)-(25,7))
        │   │   │       └── flags: decimal
        │   │   └── flags: ∅
        │   ├── closing_loc: ∅
        │   ├── block: ∅
        │   └── flags: ∅
        ├── @ CallNode (location: (27,0)-(27,11))
        │   ├── receiver:
        │   │   @ CallNode (location: (27,0)-(27,5))
        │   │   ├── receiver:
        │   │   │   @ IntegerNode (location: (27,0)-(27,1))
        │   │   │   └── flags: decimal
        │   │   ├── call_operator_loc: (27,1)-(27,2) = "."
        │   │   ├── name: :foo
        │   │   ├── message_loc: (27,2)-(27,5) = "foo"
        │   │   ├── opening_loc: ∅
        │   │   ├── arguments: ∅
        │   │   ├── closing_loc: ∅
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── call_operator_loc: (27,5)-(27,6) = "."
        │   ├── name: :bar
        │   ├── message_loc: (27,6)-(27,9) = "bar"
        │   ├── opening_loc: ∅
        │   ├── arguments:
        │   │   @ ArgumentsNode (location: (27,10)-(27,11))
        │   │   ├── arguments: (length: 1)
        │   │   │   └── @ IntegerNode (location: (27,10)-(27,11))
        │   │   │       └── flags: decimal
        │   │   └── flags: ∅
        │   ├── closing_loc: ∅
        │   ├── block: ∅
        │   └── flags: ∅
        ├── @ CallNode (location: (29,0)-(29,14))
        │   ├── receiver:
        │   │   @ CallNode (location: (29,0)-(29,8))
        │   │   ├── receiver:
        │   │   │   @ CallNode (location: (29,0)-(29,5))
        │   │   │   ├── receiver:
        │   │   │   │   @ IntegerNode (location: (29,0)-(29,1))
        │   │   │   │   └── flags: decimal
        │   │   │   ├── call_operator_loc: (29,1)-(29,2) = "."
        │   │   │   ├── name: :foo
        │   │   │   ├── message_loc: (29,2)-(29,5) = "foo"
        │   │   │   ├── opening_loc: ∅
        │   │   │   ├── arguments: ∅
        │   │   │   ├── closing_loc: ∅
        │   │   │   ├── block: ∅
        │   │   │   └── flags: ∅
        │   │   ├── call_operator_loc: ∅
        │   │   ├── name: :[]
        │   │   ├── message_loc: (29,5)-(29,8) = "[2]"
        │   │   ├── opening_loc: (29,5)-(29,6) = "["
        │   │   ├── arguments:
        │   │   │   @ ArgumentsNode (location: (29,6)-(29,7))
        │   │   │   ├── arguments: (length: 1)
        │   │   │   │   └── @ IntegerNode (location: (29,6)-(29,7))
        │   │   │   │       └── flags: decimal
        │   │   │   └── flags: ∅
        │   │   ├── closing_loc: (29,7)-(29,8) = "]"
        │   │   ├── block: ∅
        │   │   └── flags: ∅
        │   ├── call_operator_loc: (29,8)-(29,9) = "."
        │   ├── name: :bar
        │   ├── message_loc: (29,9)-(29,12) = "bar"
        │   ├── opening_loc: ∅
        │   ├── arguments:
        │   │   @ ArgumentsNode (location: (29,13)-(29,14))
        │   │   ├── arguments: (length: 1)
        │   │   │   └── @ IntegerNode (location: (29,13)-(29,14))
        │   │   │       └── flags: decimal
        │   │   └── flags: ∅
        │   ├── closing_loc: ∅
        │   ├── block: ∅
        │   └── flags: ∅
        └── @ CallNode (location: (31,0)-(31,14))
            ├── receiver:
            │   @ CallNode (location: (31,0)-(31,8))
            │   ├── receiver:
            │   │   @ IntegerNode (location: (31,0)-(31,1))
            │   │   └── flags: decimal
            │   ├── call_operator_loc: (31,1)-(31,2) = "."
            │   ├── name: :foo
            │   ├── message_loc: (31,2)-(31,5) = "foo"
            │   ├── opening_loc: (31,5)-(31,6) = "("
            │   ├── arguments:
            │   │   @ ArgumentsNode (location: (31,6)-(31,7))
            │   │   ├── arguments: (length: 1)
            │   │   │   └── @ IntegerNode (location: (31,6)-(31,7))
            │   │   │       └── flags: decimal
            │   │   └── flags: ∅
            │   ├── closing_loc: (31,7)-(31,8) = ")"
            │   ├── block: ∅
            │   └── flags: ∅
            ├── call_operator_loc: (31,8)-(31,9) = "."
            ├── name: :bar
            ├── message_loc: (31,9)-(31,12) = "bar"
            ├── opening_loc: ∅
            ├── arguments:
            │   @ ArgumentsNode (location: (31,13)-(31,14))
            │   ├── arguments: (length: 1)
            │   │   └── @ IntegerNode (location: (31,13)-(31,14))
            │   │       └── flags: decimal
            │   └── flags: ∅
            ├── closing_loc: ∅
            ├── block: ∅
            └── flags: ∅
